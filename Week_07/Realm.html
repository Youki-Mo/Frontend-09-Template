<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>
<body>
  <div id="mountNode"></div>
  <script src="https://gw.alipayobjects.com/os/antv/pkg/_antv.g6-3.1.0/build/g6.js"></script>
  <script>
    let sourceList = [
      // 值属性
      'Infinity', 'NaN', 'undefined', 'globalThis',
      // 函数属性
      'eval()', 'uneval()', 'isFinite()', 'isNaN()', 'parseFloat()', 'parseInt()', 'decodeURI()', 'decodeURIComponent()', 'encodeURI()', 'encodeURIComponent()',
      // 基本对象
      'Object', 'Function', 'Boolean', 'Symbol', 'Error',
      // 错误对象
      'AggregateError', 'EvalError', 'InternalError', 'RangeError', 'ReferenceError', 'SyntaxError', 'TypeError', 'URIError',
      // 数字和日期对象
      'Number', 'BigInt', 'Math', 'Date',
      // 字符串
      'String', 'RegExp',
      // 可索引的集合对象
      'Array', 'Int8Array', 'Uint8Array', 'Uint8ClampedArray', 'Int16Array', 'Uint16Array', 'Int32Array', 'Uint32Array', 'Float32Array', 'Float64Array', 'BigInt64Array', 'BigUint64Array',
      // 使用键的集合对象
      'Map', 'Set', 'WeakMap', 'WeakSet',
      // 结构化数据
      'ArrayBuffer', 'SharedArrayBuffer', 'Atomics', 'DataView', 'JSON',
      // 控制抽象对象
      'Promise', 'Generator', 'GeneratorFunction', 'AsyncFunction',
      // 反射
      'Reflect', 'Proxy',
      // 国际化
      'Intl', 'Intl.Collator', 'Intl.DateTimeFormat', 'Intl.ListFormat', 'Intl.NumberFormat', 'Intl.PluralRules', 'Intl.RelativeTimeFormat', 'Intl.Locale',
      // WebAssembly
      'WebAssembly', 'WebAssembly.Module', 'WebAssembly.Instance', 'WebAssembly.Memory', 'WebAssembly.Table', 'WebAssembly.CompileError', 'WebAssembly.LinkError', 'WebAssembly.RuntimeError',
      // 其他
      'arguments'
    ];
    const data = {
      id: 'Realm',
      children: sourceList.map(item => ({ id: item }))
    };
    const graph = new G6.TreeGraph({
      container: 'mountNode',
      width: window.innerWidth,
      height: window.innerHeight,
      pixelRatio: 2,
      modes: {
        default: [{
          type: 'collapse-expand',
          onChange: function onChange(item, collapsed) {
            var data = item.get('model').data;
            data.collapsed = collapsed;
            return true;
          }
      }, 'drag-canvas', 'zoom-canvas']
      },
      defaultNode: {
        size: 16,
        anchorPoints: [[0, 0.5], [1, 0.5]],
        style: {
          fill: '#40a9ff',
          stroke: '#096dd9'
        }
      },
      defaultEdge: {
        shape: 'cubic-horizontal',
        style: {
          stroke: '#A3B1BF'
        }
      },
      layout: {
        type: 'dendrogram',
        direction: 'LR',
        nodeSep: 30,
        rankSep: 100
      }
    });

    graph.node(function(node) {
      return {
        size: 26,
        style: {
          fill: '#40a9ff',
          stroke: '#096dd9'
        },
        label: node.id,
        labelCfg: {
          position: node.children && node.children.length > 0 ? 'left' : 'right'
        }
      };
    });
  
    graph.data(data);
    graph.render();
    graph.fitView();
  </script>
</body>
</html>
